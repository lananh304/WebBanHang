if (self.CavalryLogger) { CavalryLogger.start_js(["Oums9"]); }

__d("FeedStoryCategory",[],(function(a,b,c,d,e,f){e.exports={UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9}}),null);
__d("XOcelotComposerAsyncLoaderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composer/ocelot/async_loader/",{publisher:{type:"Enum",required:!0,enumType:1},target_id:{type:"FBID"}})}),null);
__d("MOcelotComposerPlaceholderFormLoader",["DOM","EventListener","Keys","MComposerEntry","MPageController","Stratcom","XCIXActorFeatureLimitNoticeController","XOcelotComposerAsyncLoaderController","ge"],(function(a,b,c,d,e,f){__p&&__p();e.exports={_isOpen:!1,_isSubmitting:!1,_viewport:HTMLElement,_textarea:HTMLInputElement,_submittingContainer:HTMLElement,_featureBlockContainer:null,_hasActiveFeatureLimitNotice:!1,initElements:function(a){__p&&__p();var c=this;this._hasActiveFeatureLimitNotice=!!a.hasActiveFeatureLimitNotice;var d=b("XOcelotComposerAsyncLoaderController").getURIBuilder().setEnum("publisher",a.publisher).setFBID("target_id",a.targetId).getURI(),e=b("ge")("composer-async-loader-root");if(!e){a.elementsParams.forEach(function(a){b("EventListener").listen(a.element,"click",function(){b("MComposerEntry").invokeOcelot(d,!0,a.onOpenAction)})});return}this._viewport=b("ge")("viewport");this._submittingContainer=b("DOM").find(e,"div","composer-submitting");this._textarea=b("DOM").find(e,"textarea","composer-placeholder-textarea");var f=b("DOM").find(e,"div","cancel_composer");this._placeholderComposerForm=b("DOM").find(e,"form","composer-placeholder-form");var g=[b("EventListener").listen(f,"click",function(a){c.hideComposer()}),b("EventListener").listen(this._placeholderComposerForm,"submit",function(a){if(c._textarea.value.length===0){a.preventDefault();return!1}c._isSubmitting=!0;b("DOM").show(c._submittingContainer);return!0}),b("Stratcom").listen("click","show_composer",function(){if(c.showFeatureLimitNoticeIfAvailable())return;c.showComposer(a.autoFocus);b("MComposerEntry").invokeOcelot(d,!1,"status",function(){g.forEach(function(a){return a.remove()});return c._isOpen})})];this._placeholderComposerForm.style.display!=="none"&&(this._isOpen=!0,this._isSubmitting=!1,b("MComposerEntry").invokeOcelot(d,!1,"status",function(){g.forEach(function(a){return a.remove()});return c._isOpen}));a.elementsParams.forEach(function(e){e.element.onclick=null,b("EventListener").listen(e.element,"click",function(){c.handleOnClick(a,d,e.onOpenAction,g)}),b("EventListener").listen(e.element,"keydown",function(f){(f.keyCode===b("Keys").RETURN||f.keyCode===b("Keys").SPACE)&&c.handleOnClick(a,d,e.onOpenAction,g)})})},handleOnClick:function(a,c,d,e){__p&&__p();var f=this;if(b("MComposerEntry").blockNavigateToComposer())return;if(this.showFeatureLimitNoticeIfAvailable())return;this.showComposer(a.autoFocus);this._isSubmitting=!1;b("MComposerEntry").invokeOcelot(c,!1,d,function(){e.forEach(function(a){return a.remove()});return f._isOpen})},showFeatureLimitNoticeIfAvailable:function(){if(!this._hasActiveFeatureLimitNotice)return!1;var a=b("XCIXActorFeatureLimitNoticeController").getURIBuilder().getURI().getPath();b("MPageController").load(a);return!0},showComposer:function(a){this._isOpen=!0,b("DOM").show(this._placeholderComposerForm),b("DOM").hide(this._viewport),b("DOM").hide(this._submittingContainer),a&&this._textarea.focus()},hideComposer:function(){if(this._isSubmitting)return;this._isOpen=!1;b("DOM").show(this._viewport);b("DOM").hide(this._placeholderComposerForm)}}}),null);
__d("XFeedNUXSaveSeenStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/nux/seen/save/",{link_id:{type:"String"},key:{type:"String",required:!0},seen:{type:"Bool",defaultValue:!1},env:{type:"Enum",enumType:0}})}),null);
__d("MFeedNUXTooltip",["DOM","MRequest","MViewport","Stratcom","SubscriptionsHandler","XFeedNUXSaveSeenStateController","destroyOnUnload","mixInEventEmitter"],(function(a,b,c,d,e,f){__p&&__p();var g={},h,i={},j,k=0,l=100,m=1,n=0;function o(){h=b("Stratcom").listen("scroll",null,q),b("destroyOnUnload")(p)}function p(){h&&h.remove(),h=null,window.clearTimeout(j),j=null}function q(){__p&&__p();var a=b("MViewport").getHeight();j&&(window.clearTimeout(j),j=null);for(var c in g){var d=g[c],e=d.getNodes(),f=d.getHeadRoom();for(var h=0;h<e.length;h++){var i=e[h].getBoundingClientRect();if(i.top>=f&&i.bottom<=a){r(e[h],d);break}}}}function r(a,b){j=window.setTimeout(function(){b.getContext()!==a&&(b.setContext(a),b.show())},k)}a=function(){"use strict";__p&&__p();function a(a,c,d,e){__p&&__p();g.length||o();if(g[c]||i[c]){d.destroy();return}this.$1=c;this.$2=b("DOM").scry(document.getElementById("page"),"*",a);this.$3=a;this.$4=n;this.$5=d;this.$6=e===0?0:e||l;g[c]=this;var f=new(b("SubscriptionsHandler"))();f.addSubscriptions(this.$5.addListener("show",this.emit.bind(this,"show")),this.$5.addListener("hide",function(){this.emit("hide"),f.release()}.bind(this)));q()}var c=a.prototype;c.destroy=function(){delete g[this.$1],Object.keys(g).length||p()};c.getContext=function(){return this.$5.getContext()};c.getNodes=function(){return this.$2};c.getHeadRoom=function(){return this.$6};c.getIsUnseen=function(){return this.$4===n};c.setContext=function(a){this.$5&&this.$5.setContext(a)};c.show=function(){if(!this.$5||this.$4===m)return;i[this.$1]=!0;this.$4=m;this.$5.show();var a=b("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key",this.$1).setBool("seen",!0);new(b("MRequest"))(a.getURI()).setMethod("POST").send();this.destroy()};c.hide=function(){this.$5&&this.$5.hide()};return a}();b("mixInEventEmitter")(a,{show:!0,hide:!0});e.exports=a}),null);
__d("MFeedReactionsNUX",["BanzaiLogger","MLegacyDataStore","MLiveData","Stratcom","SubscriptionsHandler","requestAnimationFrame"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=c&&c.isCommentNUX;if(a){var e=new(b("SubscriptionsHandler"))();e.addSubscriptions(b("Stratcom").listen("click","like-reaction-flyout",function(c){__p&&__p();var f=c.getNode("like-reaction-flyout"),h=c.getNode("feed-ufi-comments");if(!f||h)return;h=b("MLegacyDataStore").get(f);if(d&&!h.isComment||!d&&h.isComment)return;var i=h.feedback_target||h.feedbackTarget;if(i){var j=b("MLiveData").get(i);e.addSubscriptions(j.listen("change",function(){j.getData().has_viewer_liked&&b("requestAnimationFrame")(function(){a.setContext(c.getTarget()),a.show(),g(i)})}))}}),a.once("hide",function(){e.release()}));d||e.addSubscriptions(b("Stratcom").listen("click","reactions-bling-bar",function(c){var d=c.getNode("mufi-inline").querySelector('a[data-sigil*="like-reaction-flyout"]');if(d){var e=c.getNode("feed-ufi-metadata");e=b("MLegacyDataStore").get(e).feedback_target.toString();g(e);a.setContext(d);a.show();c.kill()}}));b("Stratcom").listen("m:page:unload",null,function(){b("Stratcom").removeCurrentListener(),e.release()})}}function g(a){b("BanzaiLogger").log("WebReactionsNuxLoggerConfig",{feedback_id:a,"interface":"mTouch"})}e.exports.init=a}),null);
__d("AdAllocationIntegrityGapsInfo",["FeedStoryCategory"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.story_category=a,this.dist_to_top=-1,this.dist_to_fixed=-1,this.dist_to_promo=-1,this.dist_to_sponsored=-1,this.dist_to_engagement=-1}var c=a.prototype;c.setDistToTop=function(a){this.dist_to_top=a};c.setDistIfAbsent=function(a,c){__p&&__p();if(c<0||a===b("FeedStoryCategory").UNKNOWN||a===b("FeedStoryCategory").ORGANIC)return;switch(a){case b("FeedStoryCategory").ENGAGEMENT:this.dist_to_engagement=this.$1(c,this.dist_to_engagement);break;case b("FeedStoryCategory").FIXED_POSITION:this.dist_to_fixed=this.$1(c,this.dist_to_fixed);break;case b("FeedStoryCategory").PROMOTION:this.dist_to_promo=this.$1(c,this.dist_to_promo);break;case b("FeedStoryCategory").SPONSORED:this.dist_to_sponsored=this.$1(c,this.dist_to_sponsored);break}};c.$1=function(a,b){return b===-1?a:b};return a}();e.exports=a}),null);
__d("AdAllocationIntegrityUtils",["DataAttributeUtils","FBJSON","FeedStoryCategory"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="data-story_category",h="data-dedupekey";a={getFeedStoryCategory:function(a){__p&&__p();var c=b("FBJSON").parse(a.getAttribute("data-ft"),e.id);a=b("DataAttributeUtils").getDataAttribute(a,g);if(a)switch(a){case"2":return b("FeedStoryCategory").ENGAGEMENT;case"3":return b("FeedStoryCategory").FIXED_POSITION;case"4":return b("FeedStoryCategory").PROMOTION;default:return b("FeedStoryCategory").UNKNOWN}else if("ei"in c)return b("FeedStoryCategory").SPONSORED;else return b("FeedStoryCategory").ORGANIC},isGapRuleCategory:function(a){if(a===b("FeedStoryCategory").SPONSORED||a===b("FeedStoryCategory").ENGAGEMENT||a===b("FeedStoryCategory").FIXED_POSITION||a===b("FeedStoryCategory").PROMOTION)return!0;else return!1},getDedupKey:function(a){return b("DataAttributeUtils").getDataAttribute(a,h)}};e.exports=a}),null);
__d("MEntstreamViewportTracking",["AdAllocationIntegrityGapsInfo","AdAllocationIntegrityUtils","Banzai","DataAttributeUtils","DOM","ErrorUtils","FBJSON","MHistory","MURI","MViewport","MViewportTracking","Stratcom","StratcomManager","Vector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=51,i={},j=null,k=null,l=null;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.enableCacheReadStoryIds=!1,b)||babelHelpers.assertThisInitialized(c)}c.init=function(a){b("StratcomManager").enableDispatch(document,"scroll"),new c().init(a)};var d=c.prototype;d.init=function(b){b.enable_cache_read_story_ids&&n(),a.prototype.init.call(this,b)};d.getDataFromConfig=function(a){this.enableAdsAllocationIntegrityLogging=!!a.enable_ads_allocation_integrity_logging,this.enableCacheReadStoryIds=!!a.enable_cache_read_story_ids};d.__getStreamRoot=function(){this.$MEntstreamViewportTracking1||(this.$MEntstreamViewportTracking1=document.getElementById("root"));return this.$MEntstreamViewportTracking1};d.getFBFeedLocation=function(){return 1};d.getAllStories=function(){return b("DOM").scry(this.__getStreamRoot(),"article","story-div")};d.getTimeout=function(){return 300};d.getDataToLog=function(a){__p&&__p();var c=Object.assign(b("FBJSON").parse(a.getAttribute("data-ft"),e.id),{evt:h});if(!this.isTimeTrackingEnabled){var d=b("DOM").scry(a,"*","data-is-cta").map(function(a){a=b("DataAttributeUtils").getDataFt(a);a=a&&JSON.parse(a);return a&&a.cta_types}).filter(function(a){return!!a});c.cta_types=d}if(this.enableAdsAllocationIntegrityLogging){d=b("AdAllocationIntegrityUtils").getFeedStoryCategory(a);var f=new(b("AdAllocationIntegrityGapsInfo"))(d),g=b("AdAllocationIntegrityUtils").getDedupKey(a);if(b("AdAllocationIntegrityUtils").isGapRuleCategory(d)&&g!==null){d=this.getAllStories();var i=-1;for(var j=d.length-1;j>=0;j--){var k=b("AdAllocationIntegrityUtils").getDedupKey(d[j]);if(i<0)k!==null&&g===k&&(i=j,f.setDistToTop(i+1));else{k=b("AdAllocationIntegrityUtils").getFeedStoryCategory(d[j]);b("AdAllocationIntegrityUtils").isGapRuleCategory(k)&&f.setDistIfAbsent(k,i-j)}}}Object.assign(c,f)}"getBoundingClientRect"in a?(k=a.getBoundingClientRect(),d=k.height,g=k.top+b("MViewport").getScrollTop()):(d=b("Vector").getDim(a).y,g=b("Vector").getPos(a).y);c.evt_value=d;c.offset=g;c.story_height=d;c.impression_type=b("MViewport").isLandscape()?"landscape":"portrait";return c};d.getStoryID=function(a){a=a.getAttribute("data-ft");return!a?null:b("FBJSON").parse(a,e.id).mf_story_key};d.sendDataToLog=function(a){b("Banzai").post("feed_tracking",{ft:a})};d.onUnload=function(){a.prototype.onUnload.call(this);if(!this.enableCacheReadStoryIds||!k)return;i[k]=this.readStoryIDs};d.getCachedReadStoryIDs=function(){if(!this.enableCacheReadStoryIds||!k)return;return l===k?null:i[k]||null};return c}(b("MViewportTracking"));function m(a){var c=a||b("MHistory").getPath();return c?(g||(g=b("ErrorUtils"))).guard(function(){return new(b("MURI"))(c).normalize().getPath().toLowerCase()})():null}function n(){j||(j=b("Stratcom").listen("m:page:request-sent",null,function(a){if(a&&a.getData){a=m(a.getData().path);a&&(delete i[a],l=a)}})),k=m()}e.exports=a}),null);
__d("XStoryChevronController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/story_chevron_menu/",{feedobjects_identifiers:{type:"String"},feed_context:{type:"String"},chevron_button_id:{type:"String"},story_node_id:{type:"String"},zombie_story:{type:"String"},is_menu_registered:{type:"Bool",defaultValue:!1},outer_story_token:{type:"String"},show_report_ad_only:{type:"Bool",defaultValue:!1}})}),null);
__d("MAsyncChevronMenu",["cx","BanzaiODS","CSS","DOM","MLegacyDataStore","MParent","MRequest","MTouchClick","Stratcom","SubscriptionsHandler","XStoryChevronController","$","requireWeak"],(function(a,b,c,d,e,f,g){__p&&__p();var h=null;b("requireWeak")("MHideStoryActions",function(a){return h=a});var i,j,k,l,m,n,o;function p(a){a=b("MParent").bySigil(a,"story-popup-metadata");return a}function q(){__p&&__p();b("BanzaiODS").bumpEntityKey(2966,"mtouch_async_chevron","chevron_clicked");var a=this.getCausalElement(),c=b("MLegacyDataStore").get(a),d=p(a),e=b("XStoryChevronController").getURIBuilder().setBool("is_menu_registered",!!(h&&h.getActionBubble())).getURI();e=new(b("MRequest"))(e);l&&b("CSS").show(l);m&&b("CSS").hide(m);n&&b("CSS").hide(n);i=d;e.setMethod("POST");e.setData({feedobjects_identifiers:c.feedobjectsIdentifiers,feed_context:c.feedContext,zombie_story:c.zombieStoryURI?c.zombieStoryURI:"",story_node_id:d&&d.id,chevron_button_id:a.id,outer_story_token:c.outerStoryToken?c.outerStoryToken:"",show_report_ad_only:o});e.listen("error",function(a){b("BanzaiODS").bumpEntityKey(2966,"mtouch_async_chevron","request_failed"),l&&b("CSS").hide(l),a=="status=0"?(b("BanzaiODS").bumpEntityKey(2966,"mtouch_async_chevron","request_failed_no_internet_connection"),m&&b("CSS").show(m),n&&b("CSS").hide(n)):(b("BanzaiODS").bumpEntityKey(2966,"mtouch_async_chevron","request_failed_server_side_error"),n&&b("CSS").show(n),m&&b("CSS").hide(m))});e.listen("done",function(){b("BanzaiODS").bumpEntityKey(2966,"mtouch_async_chevron","request_done")});e.send()}function r(){k&&(k.release(),k=null),j=null,l=null,m=null,n=null}function s(){if(j){var a=j.getContentRoot();l=b("DOM").find(a,"div","loadingWrapper");m=b("DOM").find(a,"div","noConnectionWrapper");n=b("DOM").find(a,"div","requestErrorWrapper")}}function a(a,c){j&&(j.destroy(),r()),j=a,o=c,s(),k=new(b("SubscriptionsHandler"))(),k.addSubscriptions(j.addListener("beforeshow",q,j),b("Stratcom").listen("m:page:unload",null,r),b("Stratcom").listen("m:story:action-bubble-initialized",null,function(a){a=a.getData();a.menuNubID&&t(b("$")(a.menuNubID),a.wasOpen)}))}function t(a,c){__p&&__p();if(!j||!(j.isShown()||c))return;if(!h||!h.getActionBubble())return;j.hide();c=p(a);if(i==c){c=a.getElementsByClassName("_4s19")[0];b("MTouchClick").click(c)}}function c(a,c,d,e,f){b("DOM").replace(b("$")(c),a),f||t(a,!1)}function d(a){(!i||i.id==a)&&(j&&j.hide(),i=null)}e.exports={init:a,replaceChevronTrigger:c,closeLoadingFlyout:d}}),null);
__d("MLoadTimeOutBanner",["Stratcom","clearTimeout","gkx","setTimeout"],(function(a,b,c,d,e,f){function g(a){a=document.getElementById(a);a&&(a.style.display="inherit")}f.init=function(a,c){var d=b("setTimeout")(g.bind(null,a),c);b("gkx")("883592")&&b("Stratcom").listen("m:page:unload",null,function(){b("Stratcom").removeCurrentListener(),b("clearTimeout")(d),window.disableInlinedPopUpBanner=!0})}}),null);